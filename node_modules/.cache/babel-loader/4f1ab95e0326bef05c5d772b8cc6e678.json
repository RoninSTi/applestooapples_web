{"ast":null,"code":"import _extends from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/craigcronin/Development/applestooapples_web_template/src/views/account/AccountView/Users/Results.js\";\n\nimport React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { Avatar, Box, Card, IconButton, InputAdornment, Link, Paper, Popper, SvgIcon, Table, TableBody, TableCell, TableHead, TablePagination, TableRow, TextField, Typography, makeStyles, CircularProgress } from '@material-ui/core';\nimport { Check as CheckIcon, Trash as TrashIcon, Search as SearchIcon, X as XIcon } from 'react-feather';\nimport getInitials from 'src/utils/getInitials';\nimport _ from 'lodash';\nimport useAuth from 'src/hooks/useAuth';\nimport api from 'src/utils/api';\nimport { useDispatch, useSelector } from 'src/store';\nimport { getAccounts } from 'src/slices/account';\nvar sortOptions = [{\n  value: 'updatedAt|desc',\n  label: 'Last update (newest first)'\n}, {\n  value: 'updatedAt|asc',\n  label: 'Last update (oldest first)'\n}];\n\nvar applyFilters = function applyFilters(users, query) {\n  return users.filter(function (user) {\n    var matches = true;\n\n    if (query) {\n      var properties = ['email']; // const properties = ['email', 'name'];\n\n      var containsQuery = false;\n      properties.forEach(function (property) {\n        if (user[property].toLowerCase().includes(query.toLowerCase())) {\n          containsQuery = true;\n        }\n      });\n\n      if (!containsQuery) {\n        matches = false;\n      }\n    }\n\n    return matches;\n  });\n};\n\nvar applyPagination = function applyPagination(users, page, limit) {\n  return users.slice(page * limit, page * limit + limit);\n};\n\nvar descendingComparator = function descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nvar getComparator = function getComparator(order, orderBy) {\n  return order === 'desc' ? function (a, b) {\n    return descendingComparator(a, b, orderBy);\n  } : function (a, b) {\n    return -descendingComparator(a, b, orderBy);\n  };\n};\n\nvar applySort = function applySort(users, sort) {\n  var _sort$split = sort.split('|'),\n      _sort$split2 = _slicedToArray(_sort$split, 2),\n      orderBy = _sort$split2[0],\n      order = _sort$split2[1];\n\n  var comparator = getComparator(order, orderBy);\n  var stabilizedThis = users.map(function (el, index) {\n    return [el, index];\n  });\n  stabilizedThis.sort(function (a, b) {\n    var order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(function (el) {\n    return el[0];\n  });\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    queryField: {\n      width: 500\n    },\n    avatar: {\n      height: 42,\n      width: 42,\n      marginRight: theme.spacing(1)\n    },\n    popper: {\n      padding: theme.spacing(5, 3)\n    }\n  };\n});\n\nvar Results = function Results(_ref) {\n  var className = _ref.className,\n      users = _ref.users,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"users\"]);\n\n  var classes = useStyles();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var _useState3 = useState(10),\n      _useState4 = _slicedToArray(_useState3, 2),\n      limit = _useState4[0],\n      setLimit = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      query = _useState6[0],\n      setQuery = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      anchorEl = _useState8[0],\n      setAnchorEl = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      userToDelete = _useState10[0],\n      setUserToDelete = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isDeleting = _useState12[0],\n      setIsDeleting = _useState12[1];\n\n  var _useState13 = useState(sortOptions[0].value),\n      _useState14 = _slicedToArray(_useState13, 2),\n      sort = _useState14[0],\n      setSort = _useState14[1];\n\n  var _useAuth = useAuth(),\n      authUser = _useAuth.user;\n\n  var account = useSelector(function (state) {\n    return state.account.activeAccount;\n  });\n  var dispatch = useDispatch();\n\n  var handleQueryChange = function handleQueryChange(event) {\n    event.persist();\n    setQuery(event.target.value);\n  };\n\n  var handleSortChange = function handleSortChange(event) {\n    event.persist();\n    setSort(event.target.value);\n  };\n\n  var handlePageChange = function handlePageChange(event, newPage) {\n    setPage(newPage);\n  };\n\n  var handleLimitChange = function handleLimitChange(event) {\n    setLimit(parseInt(event.target.value));\n  };\n\n  var handleOnClickDelete = function handleOnClickDelete(event, utd) {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n    setUserToDelete(utd);\n  };\n\n  var handleOnClickCancelDelete = function handleOnClickCancelDelete() {\n    setAnchorEl(null);\n    setUserToDelete(null);\n  };\n\n  var handleOnClickConfirmDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setAnchorEl(null);\n              setIsDeleting(true);\n              _context.prev = 2;\n              _context.next = 5;\n              return api.delete(\"account/\".concat(account.id, \"/user/\").concat(userToDelete.id));\n\n            case 5:\n              dispatch(getAccounts());\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              console.log({\n                error: _context.t0\n              });\n\n            case 11:\n              _context.prev = 11;\n              setUserToDelete(null);\n              setIsDeleting(false);\n              return _context.finish(11);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 8, 11, 15]]);\n    }));\n\n    return function handleOnClickConfirmDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var filteredUsers = applyFilters(users, query);\n  var sortedUsers = applySort(filteredUsers, sort);\n  var paginatedUsers = applyPagination(sortedUsers, page, limit);\n  var popperIsOpen = Boolean(anchorEl);\n  console.log({\n    userToDelete: userToDelete\n  });\n  return /*#__PURE__*/React.createElement(Card, _extends({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: 2,\n    minHeight: 56,\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    className: classes.queryField,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(SvgIcon, {\n        fontSize: \"small\",\n        color: \"action\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 19\n        }\n      })))\n    },\n    onChange: handleQueryChange,\n    placeholder: \"Search users\",\n    value: query,\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Sort By\",\n    name: \"sort\",\n    onChange: handleSortChange,\n    select: true,\n    SelectProps: {\n      native: true\n    },\n    value: sort,\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, sortOptions.map(function (option) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: option.value,\n      value: option.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }, option.label);\n  }))), /*#__PURE__*/React.createElement(PerfectScrollbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    minWidth: 700,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, paginatedUsers.map(function (user) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      hover: true,\n      key: user.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar,\n      src: user.avatar,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 25\n      }\n    }, getInitials(user.name)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      color: \"inherit\",\n      component: RouterLink,\n      to: \"/app/management/users/1\",\n      variant: \"h6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 27\n      }\n    }, user.name), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 27\n      }\n    }, user.email)))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }\n    }, isDeleting && (userToDelete === null || userToDelete === void 0 ? void 0 : userToDelete.id) === user.id ? /*#__PURE__*/React.createElement(CircularProgress, {\n      size: \"sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 69\n      }\n    }) : /*#__PURE__*/React.createElement(IconButton, {\n      disabled: user.id === authUser.id,\n      onClick: function onClick(event) {\n        return handleOnClickDelete(event, user);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SvgIcon, {\n      fontSize: \"small\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(TrashIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 29\n      }\n    })))));\n  }))))), /*#__PURE__*/React.createElement(TablePagination, {\n    component: \"div\",\n    count: filteredUsers.length,\n    onChangePage: handlePageChange,\n    onChangeRowsPerPage: handleLimitChange,\n    page: page,\n    rowsPerPage: limit,\n    rowsPerPageOptions: [5, 10, 25],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Popper, {\n    open: popperIsOpen,\n    anchorEl: anchorEl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.popper,\n    elevation: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 11\n    }\n  }, \"Delete selected user?\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      float: 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleOnClickCancelDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    style: {\n      color: 'red '\n    },\n    fontSize: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(XIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleOnClickConfirmDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    style: {\n      color: 'green'\n    },\n    fontSize: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CheckIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nResults.propTypes = {\n  className: PropTypes.string,\n  users: PropTypes.array.isRequired\n};\nResults.defaultProps = {\n  users: []\n};\nexport default Results;","map":{"version":3,"sources":["/Users/craigcronin/Development/applestooapples_web_template/src/views/account/AccountView/Users/Results.js"],"names":["React","useState","Link","RouterLink","clsx","PropTypes","PerfectScrollbar","Avatar","Box","Card","IconButton","InputAdornment","Paper","Popper","SvgIcon","Table","TableBody","TableCell","TableHead","TablePagination","TableRow","TextField","Typography","makeStyles","CircularProgress","Check","CheckIcon","Trash","TrashIcon","Search","SearchIcon","X","XIcon","getInitials","_","useAuth","api","useDispatch","useSelector","getAccounts","sortOptions","value","label","applyFilters","users","query","filter","user","matches","properties","containsQuery","forEach","property","toLowerCase","includes","applyPagination","page","limit","slice","descendingComparator","a","b","orderBy","getComparator","order","applySort","sort","split","comparator","stabilizedThis","map","el","index","useStyles","theme","root","queryField","width","avatar","height","marginRight","spacing","popper","padding","Results","className","rest","classes","setPage","setLimit","setQuery","anchorEl","setAnchorEl","userToDelete","setUserToDelete","isDeleting","setIsDeleting","setSort","authUser","account","state","activeAccount","dispatch","handleQueryChange","event","persist","target","handleSortChange","handlePageChange","newPage","handleLimitChange","parseInt","handleOnClickDelete","utd","currentTarget","handleOnClickCancelDelete","handleOnClickConfirmDelete","delete","id","console","log","error","filteredUsers","sortedUsers","paginatedUsers","popperIsOpen","Boolean","startAdornment","native","option","name","email","length","float","color","propTypes","string","array","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport {\n  Avatar,\n  Box,\n  Card,\n  IconButton,\n  InputAdornment,\n  Link,\n  Paper,\n  Popper,\n  SvgIcon,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TextField,\n  Typography,\n  makeStyles,\n  CircularProgress\n} from '@material-ui/core';\nimport {\n  Check as CheckIcon,\n  Trash as TrashIcon,\n  Search as SearchIcon,\n  X as XIcon\n} from 'react-feather';\nimport getInitials from 'src/utils/getInitials';\nimport _ from 'lodash'\nimport useAuth from 'src/hooks/useAuth'\nimport api from 'src/utils/api'\nimport { useDispatch, useSelector } from 'src/store'\nimport { getAccounts } from 'src/slices/account'\n\nconst sortOptions = [\n  {\n    value: 'updatedAt|desc',\n    label: 'Last update (newest first)'\n  },\n  {\n    value: 'updatedAt|asc',\n    label: 'Last update (oldest first)'\n  },\n];\n\nconst applyFilters = (users, query) => {\n  return users.filter((user) => {\n    let matches = true;\n\n    if (query) {\n      const properties = ['email'];\n      // const properties = ['email', 'name'];\n      let containsQuery = false;\n\n      properties.forEach((property) => {\n        if (user[property].toLowerCase().includes(query.toLowerCase())) {\n          containsQuery = true;\n        }\n      });\n\n      if (!containsQuery) {\n        matches = false;\n      }\n    }\n\n    return matches;\n  });\n};\n\nconst applyPagination = (users, page, limit) => {\n  return users.slice(page * limit, page * limit + limit);\n};\n\nconst descendingComparator = (a, b, orderBy) => {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nconst getComparator = (order, orderBy) => {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n};\n\nconst applySort = (users, sort) => {\n  const [orderBy, order] = sort.split('|');\n  const comparator = getComparator(order, orderBy);\n  const stabilizedThis = users.map((el, index) => [el, index]);\n\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n\n    if (order !== 0) return order;\n\n    return a[1] - b[1];\n  });\n\n  return stabilizedThis.map((el) => el[0]);\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  queryField: {\n    width: 500\n  },\n  avatar: {\n    height: 42,\n    width: 42,\n    marginRight: theme.spacing(1)\n  },\n  popper: {\n    padding: theme.spacing(5, 3),\n  }\n}));\n\nconst Results = ({\n  className,\n  users,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const [page, setPage] = useState(0);\n  const [limit, setLimit] = useState(10);\n  const [query, setQuery] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null)\n  const [userToDelete, setUserToDelete] = useState(null)\n  const [isDeleting, setIsDeleting] = useState(false)\n  const [sort, setSort] = useState(sortOptions[0].value);\n  const { user: authUser } = useAuth()\n  const account = useSelector(state => state.account.activeAccount)\n  const dispatch = useDispatch()\n\n  const handleQueryChange = (event) => {\n    event.persist();\n    setQuery(event.target.value);\n  };\n\n  const handleSortChange = (event) => {\n    event.persist();\n    setSort(event.target.value);\n  };\n\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleLimitChange = (event) => {\n    setLimit(parseInt(event.target.value));\n  };\n\n  const handleOnClickDelete = (event, utd) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n    setUserToDelete(utd)\n  }\n\n  const handleOnClickCancelDelete = () => {\n    setAnchorEl(null)\n    setUserToDelete(null)\n  }\n\n  const handleOnClickConfirmDelete = async () => {\n    setAnchorEl(null)\n    setIsDeleting(true)\n\n    try {\n      await api.delete(`account/${account.id}/user/${userToDelete.id}`)\n\n      dispatch(getAccounts())\n    } catch (error) {\n      console.log({ error })\n    } finally {\n      setUserToDelete(null)\n      setIsDeleting(false)\n    }\n  }\n\n  const filteredUsers = applyFilters(users, query);\n  const sortedUsers = applySort(filteredUsers, sort);\n  const paginatedUsers = applyPagination(sortedUsers, page, limit);\n\n  const popperIsOpen = Boolean(anchorEl)\n\n  console.log({ userToDelete })\n\n  return (\n    <Card\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Box\n        p={2}\n        minHeight={56}\n        display=\"flex\"\n        alignItems=\"center\"\n      >\n        <TextField\n          className={classes.queryField}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SvgIcon\n                  fontSize=\"small\"\n                  color=\"action\"\n                >\n                  <SearchIcon />\n                </SvgIcon>\n              </InputAdornment>\n            )\n          }}\n          onChange={handleQueryChange}\n          placeholder=\"Search users\"\n          value={query}\n          variant=\"outlined\"\n        />\n        <Box flexGrow={1} />\n        <TextField\n          label=\"Sort By\"\n          name=\"sort\"\n          onChange={handleSortChange}\n          select\n          SelectProps={{ native: true }}\n          value={sort}\n          variant=\"outlined\"\n        >\n          {sortOptions.map((option) => (\n            <option\n              key={option.value}\n              value={option.value}\n            >\n              {option.label}\n            </option>\n          ))}\n        </TextField>\n      </Box>\n      <PerfectScrollbar>\n        <Box minWidth={700}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>\n                  Name\n                </TableCell>\n                <TableCell align=\"right\">\n                  Actions\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {paginatedUsers.map((user) => {\n                return (\n                  <TableRow\n                    hover\n                    key={user.id}\n                  >\n                    <TableCell>\n                      <Box\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Avatar\n                          className={classes.avatar}\n                          src={user.avatar}\n                        >\n                          {getInitials(user.name)}\n                        </Avatar>\n                        <div>\n                          <Link\n                            color=\"inherit\"\n                            component={RouterLink}\n                            to=\"/app/management/users/1\"\n                            variant=\"h6\"\n                          >\n                            {user.name}\n                          </Link>\n                          <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                          >\n                            {user.email}\n                          </Typography>\n                        </div>\n                      </Box>\n                    </TableCell>\n                    {/* <TableCell>\n                      {`${user.city}, ${user.state}, ${user.country}`}\n                    </TableCell> */}\n                    <TableCell align=\"right\">\n                      {isDeleting && userToDelete?.id === user.id ? <CircularProgress size='sm' /> : (\n                        <IconButton\n                          disabled={user.id === authUser.id}\n                          onClick={(event) => handleOnClickDelete(event, user)}\n                        >\n                          <SvgIcon fontSize=\"small\">\n                            <TrashIcon />\n                          </SvgIcon>\n                        </IconButton>\n                      )}\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </Box>\n      </PerfectScrollbar>\n      <TablePagination\n        component=\"div\"\n        count={filteredUsers.length}\n        onChangePage={handlePageChange}\n        onChangeRowsPerPage={handleLimitChange}\n        page={page}\n        rowsPerPage={limit}\n        rowsPerPageOptions={[5, 10, 25]}\n      />\n      <Popper open={popperIsOpen} anchorEl={anchorEl}>\n        <Paper className={classes.popper} elevation={1}>\n          <Typography>Delete selected user?</Typography>\n          <div style={{ float: 'right'}}>\n            <IconButton onClick={handleOnClickCancelDelete}>\n              <SvgIcon style={{ color: 'red ' }}fontSize=\"small\">\n                <XIcon />\n              </SvgIcon>\n            </IconButton>\n            <IconButton onClick={handleOnClickConfirmDelete}>\n              <SvgIcon style={{ color: 'green'}} fontSize=\"small\">\n                <CheckIcon />\n              </SvgIcon>\n            </IconButton>\n          </div>\n        </Paper>\n      </Popper>\n    </Card>\n  );\n};\n\nResults.propTypes = {\n  className: PropTypes.string,\n  users: PropTypes.array.isRequired\n};\n\nResults.defaultProps = {\n  users: []\n};\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}