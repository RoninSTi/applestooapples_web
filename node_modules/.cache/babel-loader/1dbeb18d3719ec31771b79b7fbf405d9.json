{"ast":null,"code":"import _extends from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/CardEditModal/CheckItemAdd.js\";\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport { Box, Button, makeStyles, TextField } from '@material-ui/core';\nimport { useDispatch } from 'src/store';\nimport { addCheckItem } from 'src/slices/kanban';\nvar useStyles = makeStyles(function () {\n  return {\n    root: {}\n  };\n});\n\nvar CheckItemAdd = function CheckItemAdd(_ref) {\n  var card = _ref.card,\n      checklist = _ref.checklist,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, [\"card\", \"checklist\", \"className\"]);\n\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isExpanded = _useState4[0],\n      setExpanded = _useState4[1];\n\n  var handleAdd = function handleAdd() {\n    setExpanded(true);\n  };\n\n  var handleCancel = function handleCancel() {\n    setExpanded(false);\n    setName('');\n  };\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (name) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return dispatch(addCheckItem(card.id, checklist.id, name));\n\n            case 5:\n              setExpanded(false);\n              setName('');\n              enqueueSnackbar('Check item added', {\n                variant: 'success'\n              });\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function handleSave() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }), isExpanded ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    onChange: handleChange,\n    placeholder: \"Add an item\",\n    value: name,\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mt: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    onClick: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    onClick: handleCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Cancel\"))) : /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    size: \"small\",\n    onClick: handleAdd,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Add an item\"));\n};\n\nCheckItemAdd.propTypes = {\n  card: PropTypes.object.isRequired,\n  checklist: PropTypes.object.isRequired,\n  className: PropTypes.string\n};\nexport default CheckItemAdd;","map":{"version":3,"sources":["/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/CardEditModal/CheckItemAdd.js"],"names":["React","useState","PropTypes","clsx","useSnackbar","Box","Button","makeStyles","TextField","useDispatch","addCheckItem","useStyles","root","CheckItemAdd","card","checklist","className","rest","classes","dispatch","enqueueSnackbar","name","setName","isExpanded","setExpanded","handleAdd","handleCancel","handleChange","event","persist","target","value","handleSave","id","variant","console","error","propTypes","object","isRequired","string"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Button,\n  makeStyles,\n  TextField\n} from '@material-ui/core';\nimport { useDispatch } from 'src/store';\nimport { addCheckItem } from 'src/slices/kanban';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst CheckItemAdd = ({\n  card,\n  checklist,\n  className,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n  const [name, setName] = useState('');\n  const [isExpanded, setExpanded] = useState(false);\n\n  const handleAdd = () => {\n    setExpanded(true);\n  };\n\n  const handleCancel = () => {\n    setExpanded(false);\n    setName('');\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  const handleSave = async () => {\n    try {\n      if (!name) {\n        return;\n      }\n\n      await dispatch(addCheckItem(card.id, checklist.id, name));\n      setExpanded(false);\n      setName('');\n      enqueueSnackbar('Check item added', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      {isExpanded ? (\n        <div>\n          <TextField\n            fullWidth\n            onChange={handleChange}\n            placeholder=\"Add an item\"\n            value={name}\n            variant=\"outlined\"\n          />\n          <Box mt={1}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"small\"\n              onClick={handleSave}\n            >\n              Save\n            </Button>\n            <Button\n              size=\"small\"\n              onClick={handleCancel}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </div>\n      ) : (\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={handleAdd}\n        >\n          Add an item\n        </Button>\n      )}\n    </div>\n  );\n};\n\nCheckItemAdd.propTypes = {\n  card: PropTypes.object.isRequired,\n  checklist: PropTypes.object.isRequired,\n  className: PropTypes.string\n};\n\nexport default CheckItemAdd;\n"]},"metadata":{},"sourceType":"module"}