{"ast":null,"code":"import _extends from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/CardEditModal/Details.js\";\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useSnackbar } from 'notistack';\nimport { Box, TextField, Typography, makeStyles } from '@material-ui/core';\nimport { useDispatch } from 'src/store';\nimport { updateCard } from 'src/slices/kanban';\nvar useStyles = makeStyles(function () {\n  return {\n    root: {}\n  };\n});\n\nvar Details = function Details(_ref) {\n  var card = _ref.card,\n      className = _ref.className,\n      list = _ref.list,\n      rest = _objectWithoutProperties(_ref, [\"card\", \"className\", \"list\"]);\n\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var handleUpdate = _.debounce( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(update) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return dispatch(updateCard(card.id, update));\n\n            case 3:\n              enqueueSnackbar('Card updated', {\n                variant: 'success'\n              });\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), 1000);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mt: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    fullWidth: true,\n    defaultValue: card.name,\n    onChange: function onChange(event) {\n      return handleUpdate({\n        name: event.target.value\n      });\n    },\n    label: \"Card Title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    mt: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    color: \"textPrimary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Box, {\n    mt: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    multiline: true,\n    rows: 6,\n    fullWidth: true,\n    variant: \"outlined\",\n    onChange: function onChange(event) {\n      return handleUpdate({\n        description: event.target.value\n      });\n    },\n    placeholder: \"Leave a message\",\n    defaultValue: card.description,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }))));\n};\n\nDetails.propTypes = {\n  card: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  list: PropTypes.object.isRequired\n};\nexport default Details;","map":{"version":3,"sources":["/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/CardEditModal/Details.js"],"names":["React","clsx","PropTypes","_","useSnackbar","Box","TextField","Typography","makeStyles","useDispatch","updateCard","useStyles","root","Details","card","className","list","rest","classes","dispatch","enqueueSnackbar","handleUpdate","debounce","update","id","variant","console","error","name","event","target","value","description","propTypes","object","isRequired","string"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SACEC,GADF,EAEEC,SAFF,EAGEC,UAHF,EAIEC,UAJF,QAKO,mBALP;AAMA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AAEA,IAAMC,SAAS,GAAGH,UAAU,CAAC;AAAA,SAAO;AAClCI,IAAAA,IAAI,EAAE;AAD4B,GAAP;AAAA,CAAD,CAA5B;;AAIA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAKV;AAAA,MAJJC,IAII,QAJJA,IAII;AAAA,MAHJC,SAGI,QAHJA,SAGI;AAAA,MAFJC,IAEI,QAFJA,IAEI;AAAA,MADDC,IACC;;AACJ,MAAMC,OAAO,GAAGP,SAAS,EAAzB;AACA,MAAMQ,QAAQ,GAAGV,WAAW,EAA5B;;AAFI,qBAGwBL,WAAW,EAHnC;AAAA,MAGIgB,eAHJ,gBAGIA,eAHJ;;AAKJ,MAAMC,YAAY,GAAGlB,CAAC,CAACmB,QAAF;AAAA,yEAAW,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEtBJ,QAAQ,CAACT,UAAU,CAACI,IAAI,CAACU,EAAN,EAAUD,MAAV,CAAX,CAFc;;AAAA;AAG5BH,cAAAA,eAAe,CAAC,cAAD,EAAiB;AAC9BK,gBAAAA,OAAO,EAAE;AADqB,eAAjB,CAAf;AAH4B;AAAA;;AAAA;AAAA;AAAA;AAO5BC,cAAAA,OAAO,CAACC,KAAR;AACAP,cAAAA,eAAe,CAAC,sBAAD,EAAyB;AACtCK,gBAAAA,OAAO,EAAE;AAD6B,eAAzB,CAAf;;AAR4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;AAAA,OAYlB,IAZkB,CAArB;;AAcA,sBACE;AACE,IAAA,SAAS,EAAExB,IAAI,CAACiB,OAAO,CAACN,IAAT,EAAeG,SAAf;AADjB,KAEME,IAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAIE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,YAAY,EAAEH,IAAI,CAACc,IAHrB;AAIE,IAAA,QAAQ,EAAE,kBAACC,KAAD;AAAA,aAAWR,YAAY,CAAC;AAAEO,QAAAA,IAAI,EAAEC,KAAK,CAACC,MAAN,CAAaC;AAArB,OAAD,CAAvB;AAAA,KAJZ;AAKE,IAAA,KAAK,EAAC,YALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,eAaE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,IADV;AAEE,IAAA,KAAK,EAAC,aAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAOE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,IAAI,EAAE,CAFR;AAGE,IAAA,SAAS,MAHX;AAIE,IAAA,OAAO,EAAC,UAJV;AAKE,IAAA,QAAQ,EAAE,kBAACF,KAAD;AAAA,aAAWR,YAAY,CAAC;AAAEW,QAAAA,WAAW,EAAEH,KAAK,CAACC,MAAN,CAAaC;AAA5B,OAAD,CAAvB;AAAA,KALZ;AAME,IAAA,WAAW,EAAC,iBANd;AAOE,IAAA,YAAY,EAAEjB,IAAI,CAACkB,WAPrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CAbF,CADF;AAmCD,CA3DD;;AA6DAnB,OAAO,CAACoB,SAAR,GAAoB;AAClBnB,EAAAA,IAAI,EAAEZ,SAAS,CAACgC,MAAV,CAAiBC,UADL;AAElBpB,EAAAA,SAAS,EAAEb,SAAS,CAACkC,MAFH;AAGlBpB,EAAAA,IAAI,EAAEd,SAAS,CAACgC,MAAV,CAAiBC;AAHL,CAApB;AAMA,eAAetB,OAAf","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  TextField,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport { useDispatch } from 'src/store';\nimport { updateCard } from 'src/slices/kanban';\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Details = ({\n  card,\n  className,\n  list,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleUpdate = _.debounce(async (update) => {\n    try {\n      await dispatch(updateCard(card.id, update));\n      enqueueSnackbar('Card updated', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  }, 1000);\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Box mt={3}>\n        <TextField\n          variant=\"outlined\"\n          fullWidth\n          defaultValue={card.name}\n          onChange={(event) => handleUpdate({ name: event.target.value })}\n          label=\"Card Title\"\n        />\n      </Box>\n      <Box mt={3}>\n        <Typography\n          variant=\"h4\"\n          color=\"textPrimary\"\n        >\n          Description\n        </Typography>\n        <Box mt={2}>\n          <TextField\n            multiline\n            rows={6}\n            fullWidth\n            variant=\"outlined\"\n            onChange={(event) => handleUpdate({ description: event.target.value })}\n            placeholder=\"Leave a message\"\n            defaultValue={card.description}\n          />\n        </Box>\n      </Box>\n    </div>\n  );\n}\n\nDetails.propTypes = {\n  card: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  list: PropTypes.object.isRequired\n};\n\nexport default Details;\n"]},"metadata":{},"sourceType":"module"}