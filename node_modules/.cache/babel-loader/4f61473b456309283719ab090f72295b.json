{"ast":null,"code":"import _regeneratorRuntime from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/craigcronin/Development/applestooapples_web_template/src/layouts/DashboardLayout/TopBar/Account.js\";\n\nimport React, { useRef, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\nimport { Avatar, Box, ButtonBase, Hidden, Menu, MenuItem, Typography, makeStyles } from '@material-ui/core';\nimport useAuth from 'src/hooks/useAuth';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    avatar: {\n      height: 32,\n      width: 32,\n      marginRight: theme.spacing(1)\n    },\n    popover: {\n      width: 200\n    }\n  };\n});\n\nvar Account = function Account() {\n  var classes = useStyles();\n  var history = useHistory();\n  var ref = useRef(null);\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user,\n      logout = _useAuth.logout;\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleLogout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              handleClose();\n              _context.next = 4;\n              return logout();\n\n            case 4:\n              history.push('/');\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              enqueueSnackbar('Unable to logout', {\n                variant: 'error'\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function handleLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    component: ButtonBase,\n    onClick: handleOpen,\n    ref: ref,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"User\",\n    className: classes.avatar,\n    src: user.avatar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, user.name))), /*#__PURE__*/React.createElement(Menu, {\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    keepMounted: true,\n    PaperProps: {\n      className: classes.popover\n    },\n    getContentAnchorEl: null,\n    anchorEl: ref.current,\n    open: isOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    component: RouterLink,\n    to: \"/app/social/profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(MenuItem, {\n    component: RouterLink,\n    to: \"/app/account\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Account\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleLogout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Logout\")));\n};\n\nexport default Account;","map":{"version":3,"sources":["/Users/craigcronin/Development/applestooapples_web_template/src/layouts/DashboardLayout/TopBar/Account.js"],"names":["React","useRef","useState","Link","RouterLink","useHistory","useSnackbar","Avatar","Box","ButtonBase","Hidden","Menu","MenuItem","Typography","makeStyles","useAuth","useStyles","theme","avatar","height","width","marginRight","spacing","popover","Account","classes","history","ref","user","logout","enqueueSnackbar","isOpen","setOpen","handleOpen","handleClose","handleLogout","push","console","error","variant","name","vertical","horizontal","className","current"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IACEC,MADF,EAEEC,QAFF,QAGO,OAHP;AAIA,SAASC,IAAI,IAAIC,UAAjB,QAAmC,kBAAnC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SACEC,MADF,EAEEC,GAFF,EAGEC,UAHF,EAIEC,MAJF,EAKEC,IALF,EAMEC,QANF,EAOEC,UAPF,EAQEC,UARF,QASO,mBATP;AAUA,OAAOC,OAAP,MAAoB,mBAApB;AAEA,IAAMC,SAAS,GAAGF,UAAU,CAAC,UAACG,KAAD;AAAA,SAAY;AACvCC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,WAAW,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd;AAHP,KAD+B;AAMvCC,IAAAA,OAAO,EAAE;AACPH,MAAAA,KAAK,EAAE;AADA;AAN8B,GAAZ;AAAA,CAAD,CAA5B;;AAWA,IAAMI,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,MAAMC,OAAO,GAAGT,SAAS,EAAzB;AACA,MAAMU,OAAO,GAAGrB,UAAU,EAA1B;AACA,MAAMsB,GAAG,GAAG1B,MAAM,CAAC,IAAD,CAAlB;;AAHoB,iBAIKc,OAAO,EAJZ;AAAA,MAIZa,IAJY,YAIZA,IAJY;AAAA,MAINC,MAJM,YAINA,MAJM;;AAAA,qBAKQvB,WAAW,EALnB;AAAA,MAKZwB,eALY,gBAKZA,eALY;;AAAA,kBAMM5B,QAAQ,CAAC,KAAD,CANd;AAAA;AAAA,MAMb6B,MANa;AAAA,MAMLC,OANK;;AAQpB,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAIA,MAAMG,YAAY;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjBD,cAAAA,WAAW;AAFM;AAAA,qBAGXL,MAAM,EAHK;;AAAA;AAIjBH,cAAAA,OAAO,CAACU,IAAR,CAAa,GAAb;AAJiB;AAAA;;AAAA;AAAA;AAAA;AAMjBC,cAAAA,OAAO,CAACC,KAAR;AACAR,cAAAA,eAAe,CAAC,kBAAD,EAAqB;AAClCS,gBAAAA,OAAO,EAAE;AADyB,eAArB,CAAf;;AAPiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZJ,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAaA,sBACE,uDACE,oBAAC,GAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,UAAU,EAAC,QAFb;AAGE,IAAA,SAAS,EAAE1B,UAHb;AAIE,IAAA,OAAO,EAAEwB,UAJX;AAKE,IAAA,GAAG,EAAEN,GALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,MAAD;AACE,IAAA,GAAG,EAAC,MADN;AAEE,IAAA,SAAS,EAAEF,OAAO,CAACP,MAFrB;AAGE,IAAA,GAAG,EAAEU,IAAI,CAACV,MAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAYE,oBAAC,MAAD;AAAQ,IAAA,MAAM,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,IADV;AAEE,IAAA,KAAK,EAAC,SAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGU,IAAI,CAACY,IAJR,CADF,CAZF,CADF,eAsBE,oBAAC,IAAD;AACE,IAAA,OAAO,EAAEN,WADX;AAEE,IAAA,YAAY,EAAE;AACZO,MAAAA,QAAQ,EAAE,QADE;AAEZC,MAAAA,UAAU,EAAE;AAFA,KAFhB;AAME,IAAA,WAAW,MANb;AAOE,IAAA,UAAU,EAAE;AAAEC,MAAAA,SAAS,EAAElB,OAAO,CAACF;AAArB,KAPd;AAQE,IAAA,kBAAkB,EAAE,IARtB;AASE,IAAA,QAAQ,EAAEI,GAAG,CAACiB,OAThB;AAUE,IAAA,IAAI,EAAEb,MAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAYE,oBAAC,QAAD;AACE,IAAA,SAAS,EAAE3B,UADb;AAEE,IAAA,EAAE,EAAC,qBAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAZF,eAkBE,oBAAC,QAAD;AACE,IAAA,SAAS,EAAEA,UADb;AAEE,IAAA,EAAE,EAAC,cAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAlBF,eAwBE,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAE+B,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF,CAtBF,CADF;AAqDD,CAlFD;;AAoFA,eAAeX,OAAf","sourcesContent":["import React, {\n  useRef,\n  useState\n} from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { useSnackbar } from 'notistack';\nimport {\n  Avatar,\n  Box,\n  ButtonBase,\n  Hidden,\n  Menu,\n  MenuItem,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport useAuth from 'src/hooks/useAuth';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    height: 32,\n    width: 32,\n    marginRight: theme.spacing(1)\n  },\n  popover: {\n    width: 200\n  }\n}));\n\nconst Account = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const ref = useRef(null);\n  const { user, logout } = useAuth();\n  const { enqueueSnackbar } = useSnackbar();\n  const [isOpen, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleLogout = async () => {\n    try {\n      handleClose();\n      await logout();\n      history.push('/');\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Unable to logout', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <>\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        component={ButtonBase}\n        onClick={handleOpen}\n        ref={ref}\n      >\n        <Avatar\n          alt=\"User\"\n          className={classes.avatar}\n          src={user.avatar}\n        />\n        <Hidden smDown>\n          <Typography\n            variant=\"h6\"\n            color=\"inherit\"\n          >\n            {user.name}\n          </Typography>\n        </Hidden>\n      </Box>\n      <Menu\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center'\n        }}\n        keepMounted\n        PaperProps={{ className: classes.popover }}\n        getContentAnchorEl={null}\n        anchorEl={ref.current}\n        open={isOpen}\n      >\n        <MenuItem\n          component={RouterLink}\n          to=\"/app/social/profile\"\n        >\n          Profile\n        </MenuItem>\n        <MenuItem\n          component={RouterLink}\n          to=\"/app/account\"\n        >\n          Account\n        </MenuItem>\n        <MenuItem onClick={handleLogout}>\n          Logout\n        </MenuItem>\n      </Menu>\n    </>\n  );\n}\n\nexport default Account;\n"]},"metadata":{},"sourceType":"module"}