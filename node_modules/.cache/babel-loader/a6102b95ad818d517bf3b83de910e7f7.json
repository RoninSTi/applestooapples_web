{"ast":null,"code":"import _extends from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/CardEditModal/CheckItem.js\";\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport { Box, Button, Checkbox, IconButton, SvgIcon, TextField, Typography, makeStyles } from '@material-ui/core';\nimport { Trash as TrashIcon } from 'react-feather';\nimport { useDispatch } from 'src/store';\nimport { updateCheckItem, deleteCheckItem } from 'src/slices/kanban';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: theme.spacing(1),\n      display: 'flex',\n      alignItems: 'flex-start',\n      borderRadius: theme.shape.borderRadius,\n      '&:hover': {\n        backgroundColor: theme.palette.background.dark,\n        '& $deleteButton': {\n          visibility: 'visible'\n        }\n      }\n    },\n    checkbox: {\n      marginLeft: theme.spacing(-1),\n      marginRight: theme.spacing(1)\n    },\n    name: {\n      flexGrow: 1,\n      cursor: 'pointer',\n      minHeight: 32\n    },\n    deleteButton: {\n      visibility: 'hidden'\n    }\n  };\n});\n\nvar CheckItem = function CheckItem(_ref) {\n  var card = _ref.card,\n      checklist = _ref.checklist,\n      checkItem = _ref.checkItem,\n      className = _ref.className,\n      editing = _ref.editing,\n      onEditCancel = _ref.onEditCancel,\n      onEditInit = _ref.onEditInit,\n      onEditComplete = _ref.onEditComplete,\n      rest = _objectWithoutProperties(_ref, [\"card\", \"checklist\", \"checkItem\", \"className\", \"editing\", \"onEditCancel\", \"onEditInit\", \"onEditComplete\"]);\n\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState = useState(checkItem.name),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var handleStateChange = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var state;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              event.persist();\n              state = event.target.checked ? 'complete' : 'incomplete';\n              _context.next = 5;\n              return dispatch(updateCheckItem(card.id, checklist.id, checkItem.id, {\n                state: state\n              }));\n\n            case 5:\n              enqueueSnackbar('Check item updated', {\n                variant: 'success'\n              });\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function handleStateChange(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleNameChange = function handleNameChange(event) {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return dispatch(updateCheckItem(card.id, checklist.id, checkItem.id, {\n                name: name\n              }));\n\n            case 3:\n              onEditComplete();\n              enqueueSnackbar('Check item updated', {\n                variant: 'success'\n              });\n              _context2.next = 11;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function handleSave() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = function handleCancel() {\n    setName(checkItem.name);\n    onEditCancel();\n  };\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return dispatch(deleteCheckItem(card.id, checklist.id, checkItem.id));\n\n            case 3:\n              enqueueSnackbar('Check item deleted', {\n                variant: 'success'\n              });\n              _context3.next = 10;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error(_context3.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function handleDelete() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Checkbox, {\n    checked: checkItem.state === 'complete',\n    onChange: handleStateChange,\n    className: classes.checkbox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }), editing ? /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: name,\n    variant: \"outlined\",\n    fullWidth: true,\n    onChange: handleNameChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mt: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    onClick: handleCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Cancel\"))) : /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexGrow: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    onClick: onEditInit,\n    color: \"textPrimary\",\n    variant: \"body1\",\n    className: classes.name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, checkItem.name), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleDelete,\n    className: classes.deleteButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    fontSize: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TrashIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  })))));\n};\n\nCheckItem.propTypes = {\n  card: PropTypes.object.isRequired,\n  checklist: PropTypes.object.isRequired,\n  checkItem: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  editing: PropTypes.bool,\n  onEditCancel: PropTypes.func,\n  onEditComplete: PropTypes.func,\n  onEditInit: PropTypes.func\n};\nCheckItem.defaultProps = {\n  editing: false,\n  onEditCancel: function onEditCancel() {},\n  onEditComplete: function onEditComplete() {},\n  onEditInit: function onEditInit() {}\n};\nexport default CheckItem;","map":{"version":3,"sources":["/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/CardEditModal/CheckItem.js"],"names":["React","useState","PropTypes","clsx","useSnackbar","Box","Button","Checkbox","IconButton","SvgIcon","TextField","Typography","makeStyles","Trash","TrashIcon","useDispatch","updateCheckItem","deleteCheckItem","useStyles","theme","root","padding","spacing","display","alignItems","borderRadius","shape","backgroundColor","palette","background","dark","visibility","checkbox","marginLeft","marginRight","name","flexGrow","cursor","minHeight","deleteButton","CheckItem","card","checklist","checkItem","className","editing","onEditCancel","onEditInit","onEditComplete","rest","classes","dispatch","enqueueSnackbar","setName","handleStateChange","event","persist","state","target","checked","id","variant","console","error","handleNameChange","value","handleSave","handleCancel","handleDelete","propTypes","object","isRequired","string","bool","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  IconButton,\n  SvgIcon,\n  TextField,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport { Trash as TrashIcon } from 'react-feather';\nimport { useDispatch } from 'src/store';\nimport {\n  updateCheckItem,\n  deleteCheckItem\n} from 'src/slices/kanban';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    alignItems: 'flex-start',\n    borderRadius: theme.shape.borderRadius,\n    '&:hover': {\n      backgroundColor: theme.palette.background.dark,\n      '& $deleteButton': {\n        visibility: 'visible'\n      }\n    }\n  },\n  checkbox: {\n    marginLeft: theme.spacing(-1),\n    marginRight: theme.spacing(1)\n  },\n  name: {\n    flexGrow: 1,\n    cursor: 'pointer',\n    minHeight: 32\n  },\n  deleteButton: {\n    visibility: 'hidden'\n  }\n}));\n\nconst CheckItem = ({\n  card,\n  checklist,\n  checkItem,\n  className,\n  editing,\n  onEditCancel,\n  onEditInit,\n  onEditComplete,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n  const [name, setName] = useState(checkItem.name);\n\n  const handleStateChange = async (event) => {\n    try {\n      event.persist();\n\n      const state = event.target.checked ? 'complete' : 'incomplete';\n\n      await dispatch(updateCheckItem(\n        card.id,\n        checklist.id,\n        checkItem.id,\n        { state }\n      ));\n      enqueueSnackbar('Check item updated', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  const handleSave = async () => {\n    try {\n      await dispatch(updateCheckItem(\n        card.id,\n        checklist.id,\n        checkItem.id,\n        { name }\n      ));\n      onEditComplete();\n      enqueueSnackbar('Check item updated', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    setName(checkItem.name);\n    onEditCancel();\n  };\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteCheckItem(\n        card.id,\n        checklist.id,\n        checkItem.id\n      ));\n      enqueueSnackbar('Check item deleted', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Checkbox\n        checked={checkItem.state === 'complete'}\n        onChange={handleStateChange}\n        className={classes.checkbox}\n      />\n      {editing ? (\n        <Box flexGrow={1}>\n          <TextField\n            value={name}\n            variant=\"outlined\"\n            fullWidth\n            onChange={handleNameChange}\n          />\n          <Box mt={1}>\n            <Button\n              size=\"small\"\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={handleSave}\n            >\n              Save\n            </Button>\n            <Button\n              size=\"small\"\n              onClick={handleCancel}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </Box>\n      ) : (\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          flexGrow={1}\n        >\n          <Typography\n            onClick={onEditInit}\n            color=\"textPrimary\"\n            variant=\"body1\"\n            className={classes.name}\n          >\n            {checkItem.name}\n          </Typography>\n          <IconButton\n            onClick={handleDelete}\n            className={classes.deleteButton}\n          >\n            <SvgIcon fontSize=\"small\">\n              <TrashIcon />\n            </SvgIcon>\n          </IconButton>\n        </Box>\n      )}\n    </div>\n  );\n};\n\nCheckItem.propTypes = {\n  card: PropTypes.object.isRequired,\n  checklist: PropTypes.object.isRequired,\n  checkItem: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  editing: PropTypes.bool,\n  onEditCancel: PropTypes.func,\n  onEditComplete: PropTypes.func,\n  onEditInit: PropTypes.func\n};\n\nCheckItem.defaultProps = {\n  editing: false,\n  onEditCancel: () => {},\n  onEditComplete: () => {},\n  onEditInit: () => {}\n};\n\nexport default CheckItem;\n"]},"metadata":{},"sourceType":"module"}