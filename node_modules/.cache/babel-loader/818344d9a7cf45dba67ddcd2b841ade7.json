{"ast":null,"code":"import _extends from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/craigcronin/Development/applestooapples_web_template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/List.js\";\n\nimport React, { useState, useRef } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Box, ClickAwayListener, Divider, IconButton, Menu, MenuItem, Paper, SvgIcon, TextField, Typography, makeStyles } from '@material-ui/core';\nimport { MoreVertical as MoreIcon } from 'react-feather';\nimport { useDispatch, useSelector } from 'src/store';\nimport { clearList, deleteList, updateList } from 'src/slices/kanban';\nimport Card from './Card';\nimport CardAdd from './CardAdd';\n\nvar listSelector = function listSelector(state, listId) {\n  var lists = state.kanban.lists;\n  return lists.byId[listId];\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    inner: _defineProperty({\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      display: 'flex',\n      flexDirection: 'column',\n      maxHeight: '100%',\n      overflowY: 'hidden',\n      overflowX: 'hidden',\n      width: 380\n    }, theme.breakpoints.down('xs'), {\n      width: 300\n    }),\n    title: {\n      cursor: 'pointer'\n    },\n    droppableArea: {\n      minHeight: 80,\n      flexGrow: 1,\n      overflowY: 'auto',\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    },\n    menu: {\n      width: 240\n    }\n  };\n});\n\nvar List = function List(_ref) {\n  var className = _ref.className,\n      listId = _ref.listId,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"listId\"]);\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isMenuOpen = _useState2[0],\n      setMenuOpen = _useState2[1];\n\n  var list = useSelector(function (state) {\n    return listSelector(state, listId);\n  });\n  var dispatch = useDispatch();\n  var moreRef = useRef(null);\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState3 = useState(list.name),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isRenaming = _useState6[0],\n      setRenaming = _useState6[1];\n\n  var handleMenuOpen = function handleMenuOpen() {\n    setMenuOpen(true);\n  };\n\n  var handleMenuClose = function handleMenuClose() {\n    setMenuOpen(false);\n  };\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  var handleRenameInit = function handleRenameInit() {\n    setRenaming(true);\n    setMenuOpen(false);\n  };\n\n  var handleRename = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var update;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (name) {\n                _context.next = 5;\n                break;\n              }\n\n              setName(list.name);\n              setRenaming(false);\n              return _context.abrupt(\"return\");\n\n            case 5:\n              update = {\n                name: name\n              };\n              setRenaming(false);\n              _context.next = 9;\n              return dispatch(updateList(list.id, update));\n\n            case 9:\n              enqueueSnackbar('List updated', {\n                variant: 'success'\n              });\n              _context.next = 16;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 12]]);\n    }));\n\n    return function handleRename() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setMenuOpen(false);\n              _context2.next = 4;\n              return dispatch(deleteList(list.id));\n\n            case 4:\n              enqueueSnackbar('List deleted', {\n                variant: 'success'\n              });\n              _context2.next = 11;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function handleDelete() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleClear = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              setMenuOpen(false);\n              _context3.next = 4;\n              return dispatch(clearList(list.id));\n\n            case 4:\n              enqueueSnackbar('List cleared', {\n                variant: 'success'\n              });\n              _context3.next = 11;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error(_context3.t0);\n              enqueueSnackbar('Something went wrong', {\n                variant: 'error'\n              });\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function handleClear() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className)\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.inner,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    py: 1,\n    px: 2,\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, isRenaming ? /*#__PURE__*/React.createElement(ClickAwayListener, {\n    onClickAway: handleRename,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: name,\n    onBlur: handleRename,\n    onChange: handleChange,\n    variant: \"outlined\",\n    margin: \"dense\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(Typography, {\n    color: \"inherit\",\n    variant: \"h5\",\n    onClick: handleRenameInit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, list.name), /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    edge: \"end\",\n    onClick: handleMenuOpen,\n    ref: moreRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SvgIcon, {\n    fontSize: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MoreIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Droppable, {\n    droppableId: list.id,\n    type: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, function (provided) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: provided.innerRef,\n      className: classes.droppableArea,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, list.cardIds.map(function (cardId, index) {\n      return /*#__PURE__*/React.createElement(Draggable, {\n        draggableId: cardId,\n        index: index,\n        key: cardId,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }\n      }, function (provided, snapshot) {\n        return /*#__PURE__*/React.createElement(Card, _extends({\n          cardId: cardId,\n          dragging: snapshot.isDragging,\n          index: index,\n          key: cardId,\n          list: list,\n          ref: provided.innerRef,\n          style: _objectSpread({}, provided.draggableProps.style)\n        }, provided.draggableProps, provided.dragHandleProps, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 21\n          }\n        }));\n      });\n    }), provided.placeholder);\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardAdd, {\n    listId: list.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    keepMounted: true,\n    anchorEl: moreRef.current,\n    open: isMenuOpen,\n    onClose: handleMenuClose,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    PaperProps: {\n      className: classes.menu\n    },\n    getContentAnchorEl: null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleRenameInit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, \"Rename\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleClear,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, \"Clear\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, \"Delete\"))));\n};\n\nList.propTypes = {\n  className: PropTypes.string,\n  listId: PropTypes.string.isRequired\n};\nexport default List;","map":{"version":3,"sources":["/Users/craigcronin/Development/applestooapples_web_template/src/views/kanban/KanbanView/List.js"],"names":["React","useState","useRef","clsx","PropTypes","useSnackbar","Droppable","Draggable","Box","ClickAwayListener","Divider","IconButton","Menu","MenuItem","Paper","SvgIcon","TextField","Typography","makeStyles","MoreVertical","MoreIcon","useDispatch","useSelector","clearList","deleteList","updateList","Card","CardAdd","listSelector","state","listId","lists","kanban","byId","useStyles","theme","root","inner","marginLeft","spacing","marginRight","display","flexDirection","maxHeight","overflowY","overflowX","width","breakpoints","down","title","cursor","droppableArea","minHeight","flexGrow","paddingTop","paddingBottom","paddingLeft","paddingRight","menu","List","className","rest","classes","isMenuOpen","setMenuOpen","list","dispatch","moreRef","enqueueSnackbar","name","setName","isRenaming","setRenaming","handleMenuOpen","handleMenuClose","handleChange","event","persist","target","value","handleRenameInit","handleRename","update","id","variant","console","error","handleDelete","handleClear","provided","innerRef","cardIds","map","cardId","index","snapshot","isDragging","draggableProps","style","dragHandleProps","placeholder","current","vertical","horizontal","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useRef\n} from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport {\n  Droppable,\n  Draggable\n} from 'react-beautiful-dnd';\nimport {\n  Box,\n  ClickAwayListener,\n  Divider,\n  IconButton,\n  Menu,\n  MenuItem,\n  Paper,\n  SvgIcon,\n  TextField,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport { MoreVertical as MoreIcon } from 'react-feather';\nimport { useDispatch, useSelector } from 'src/store';\nimport {\n  clearList,\n  deleteList,\n  updateList\n} from 'src/slices/kanban';\nimport Card from './Card';\nimport CardAdd from './CardAdd';\n\nconst listSelector = (state, listId) => {\n  const { lists } = state.kanban;\n\n  return lists.byId[listId];\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  inner: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    maxHeight: '100%',\n    overflowY: 'hidden',\n    overflowX: 'hidden',\n    width: 380,\n    [theme.breakpoints.down('xs')]: {\n      width: 300\n    }\n  },\n  title: {\n    cursor: 'pointer'\n  },\n  droppableArea: {\n    minHeight: 80,\n    flexGrow: 1,\n    overflowY: 'auto',\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n  menu: {\n    width: 240\n  }\n}));\n\nconst List = ({ className, listId, ...rest }) => {\n  const classes = useStyles();\n  const [isMenuOpen, setMenuOpen] = useState(false);\n  const list = useSelector((state) => listSelector(state, listId));\n  const dispatch = useDispatch();\n  const moreRef = useRef(null);\n  const { enqueueSnackbar } = useSnackbar();\n  const [name, setName] = useState(list.name);\n  const [isRenaming, setRenaming] = useState(false);\n\n  const handleMenuOpen = () => {\n    setMenuOpen(true);\n  };\n\n  const handleMenuClose = () => {\n    setMenuOpen(false);\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  const handleRenameInit = () => {\n    setRenaming(true);\n    setMenuOpen(false);\n  };\n\n  const handleRename = async () => {\n    try {\n      if (!name) {\n        setName(list.name);\n        setRenaming(false);\n        return;\n      }\n\n      const update = { name };\n\n      setRenaming(false);\n      await dispatch(updateList(list.id, update));\n      enqueueSnackbar('List updated', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      setMenuOpen(false);\n      await dispatch(deleteList(list.id));\n      enqueueSnackbar('List deleted', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleClear = async () => {\n    try {\n      setMenuOpen(false);\n      await dispatch(clearList(list.id));\n      enqueueSnackbar('List cleared', {\n        variant: 'success'\n      });\n    } catch (err) {\n      console.error(err);\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Paper className={classes.inner}>\n        <Box\n          py={1}\n          px={2}\n          display=\"flex\"\n          alignItems=\"center\"\n        >\n          {isRenaming ? (\n            <ClickAwayListener onClickAway={handleRename}>\n              <TextField\n                value={name}\n                onBlur={handleRename}\n                onChange={handleChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              />\n            </ClickAwayListener>\n          ) : (\n            <Typography\n              color=\"inherit\"\n              variant=\"h5\"\n              onClick={handleRenameInit}\n            >\n              {list.name}\n            </Typography>\n          )}\n          <Box flexGrow={1} />\n          <IconButton\n            color=\"inherit\"\n            edge=\"end\"\n            onClick={handleMenuOpen}\n            ref={moreRef}\n          >\n            <SvgIcon fontSize=\"small\">\n              <MoreIcon />\n            </SvgIcon>\n          </IconButton>\n        </Box>\n        <Divider />\n        <Droppable\n          droppableId={list.id}\n          type=\"card\"\n        >\n          {(provided) => (\n            <div\n              ref={provided.innerRef}\n              className={classes.droppableArea}\n            >\n              {list.cardIds.map((cardId, index) => (\n                <Draggable\n                  draggableId={cardId}\n                  index={index}\n                  key={cardId}\n                >\n                  {(provided, snapshot) => (\n                    <Card\n                      cardId={cardId}\n                      dragging={snapshot.isDragging}\n                      index={index}\n                      key={cardId}\n                      list={list}\n                      ref={provided.innerRef}\n                      style={{ ...provided.draggableProps.style }}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                    />\n                  )}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n        <Divider />\n        <Box p={2}>\n          <CardAdd listId={list.id} />\n        </Box>\n        <Menu\n          keepMounted\n          anchorEl={moreRef.current}\n          open={isMenuOpen}\n          onClose={handleMenuClose}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center'\n          }}\n          PaperProps={{ className: classes.menu }}\n          getContentAnchorEl={null}\n        >\n          <MenuItem onClick={handleRenameInit}>\n            Rename\n          </MenuItem>\n          <MenuItem onClick={handleClear}>\n            Clear\n          </MenuItem>\n          <MenuItem onClick={handleDelete}>\n            Delete\n          </MenuItem>\n        </Menu>\n      </Paper>\n    </div>\n  );\n};\n\nList.propTypes = {\n  className: PropTypes.string,\n  listId: PropTypes.string.isRequired\n};\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}